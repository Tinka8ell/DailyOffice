# DailyOffice
Responsive Daily Office Single Page App

## Day (app?)

Each day we have one of four offices:
* Morning (4 am - 11 am)
* Midday (11 am - 5 pm)
* Evening  (5 pm - 8 pm)
* {Day Name} Compline (8 pm - 4 am)

## Office

Each office is made up of:

1. Header
1. Body
1. Footer

## Header (done)

The header contains: 

* Title
* Navigator 

## Title (done)

Is basically a Heading (level 1) consisting of:
1. Name (Of the Office)
1. Day (of the week from date)

## Navigator  (done)

Is a section of buttons and fields:

1. Date Picker
1. Office Selection:
   1. Previous office button
      * decrements to Office (- 1)
      * If (Office < Morning (0))
        * decrements the Date (- 1)
        * set Office = Compline (Offices - 1)
   1. Current Office Name
   1. Next office button
      * increments Office (+ 1)
      * If (Office > Compline (Offices - 1))
         * increments Date (+ 1)
         * set Office = Morning (0)

## Body

Potentially a template generated content - see NewTemplate

Contains a template of an array of sections.  Sections - one of:

* Template (so we can chain)
* Heading (size 2+)
* Paragraph
* Bible Quote 
* Meditation
* Extended Bible Reading 
* OMS Prayers 
* World Watch List

## Heading 

A simple <h{size}> wrapper of:

  * Text 

## Paragraph

Array of Lines seperated by <br/> separators.

## Lines

An array of parts that are either:

* Text
* Optional type (currently only 'em' supported)

## Bible Quote (version, reference)

Made up of:

1. Paragraphs
1. VerseReference
   1. Reference field / text
   1. Version field / text
   1. Change / Update button

## Meditation

One or more Prayers defined by a name calculated from day of the month:

1. Meditation Title (heading 2?)
1. One or more prayers
   1. Title (heading 3? optional)
   1. Paragraphs (1 or more)
   1. Author (emphasised right aligned)

## Extended Bible Reading (either Daily or Yearly) (based on date)

Consists of:

1. Link (to sub-page?)
   * Text
   * URL
1. Bible Readings (expandable list)
   * Reference
     1. Reference button (toggle on / off reading:)
     2. Bible reading (toggled on or off)

## OMS Prayers 

Based on date?  Basically just a Link.

## World Watch List 

Based on day of year converted to top 50 and contains:

* Link (country and number)
* Extracted Prayer (Paragraph)

## Footer

The footer contains: 

* Navigator (repeat of the header)

## NewTemplate

Generated by json structure below of named templates:
* template is an object containing either list of templates:
  * div - true or optional
  * span - true or optional (ignored if div)
  * className - optional (only used it one of div or span are true)
  * either:
    * items - array of further templates or
    * text - as a simple component
* or a specific type of component:
  * name - of the specific component (if not defined assumed as a name of a template)
  * parameters - named parameters for that component

As an example:
```json
{
   "Psalm 3:1-4": {
      "div": true,
      "className": "bibleQuote",
      "items": [
         {
            "div": true,
            "className": "poetry?",
            "items": [
               {
                  "div": true,
                  "items": [
                     {
                        "div": true,
                        "className": "p",
                        "items": [
                           {
                              "span": true,
                              "className": "line",
                              "items": [
                                 {
                                    "span": true,
                                    "text": "O"
                                 },
                                 {
                                    "span": true,
                                    "className": "lord",
                                    "text": "Lord"
                                 },
                                 {
                                    "span": true,
                                    "text": ", I have so many enemies;"
                                 }
                              ]
                           },
                           {
                              "span": true,
                              "className": "line",
                              "items": [
                                 {
                                    "span": true,
                                    "text": "so many are against me."
                                 }
                              ]
                           },
                           {
                              "span": true,
                              "className": "line",
                              "items": [
                                 {
                                    "span": true,
                                    "text": "So many are saying,"
                                 }
                              ]
                           },
                           {
                              "span": true,
                              "className": "line",
                              "items": [
                                 {
                                    "span": true,
                                    "text": "\"God will never rescue him!\""
                                 },
                                 {
                                    "span": true,
                                    "className": "selah",
                                    "text": "Interlude"
                                 }
                              ]
                           }
                        ]
                     },
                     {
                        "div": true,
                        "className": "p",
                        "items": [
                           {
                              "span": true,
                              "className": "line",
                              "items": [
                                 {
                                    "span": true,
                                    "text": "But you, O"
                                 },
                                 {
                                    "span": true,
                                    "className": "lord",
                                    "text": "Lord"
                                 },
                                 {
                                    "span": true,
                                    "text": ", are a shield around me;"
                                 }
                              ]
                           },
                           {
                              "span": true,
                              "className": "line",
                              "items": [
                                 {
                                    "span": true,
                                    "text": "you are my glory, the one who holds my head high."
                                 }
                              ]
                           },
                           {
                              "span": true,
                              "className": "line",
                              "items": [
                                 {
                                    "span": true,
                                    "text": "I cried out to the"
                                 },
                                 {
                                    "span": true,
                                    "className": "lord",
                                    "text": "Lord"
                                 },
                                 {
                                    "span": true,
                                    "text": ","
                                 }
                              ]
                           },
                           {
                              "span": true,
                              "className": "line",
                              "items": [
                                 {
                                    "span": true,
                                    "text": "and he answered me from his holy mountain."
                                 },
                                 {
                                    "span": true,
                                    "className": "selah",
                                    "text": "Interlude"
                                 }
                              ]
                           }
                        ]
                     }
                  ]
               }
            ]
         },
         {
            "name": "bibleReference",
            "parameters": {
               "version": "NLT",
               "reference": "Psalm 3:1-4"
            }
         }
      ]
   }
}
```

Taken from:
```html
<div class="passage-text">
   <div class='passage-content passage-class-0'>
      <div class="version-NLT result-text-style-normal text-html">
         <h3><span id="en-NLT-13935" class="text Ps-3-1">Psalm 3</span></h3>
         <h4 class="psalm-title">
            <span class="text Ps-3-1">A psalm of David, regarding the time David fled from his son Absalom.</span>
         </h4>
         <div class="poetry top-1">
            <p class="line">
               <span class="text Ps-3-1">
                  <sup class="versenum">1 </sup>
                  O 
                  <span style="font-variant: small-caps" class="small-caps">Lord</span>
                  , I have so many enemies;
               </span>
               <br />
               <span class="indent-1">
                  <span class="indent-1-breaks">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                  <span class="text Ps-3-1">
                     so many are against me.
                  </span>
               </span>
               <br />
               <span id="en-NLT-13936" class="text Ps-3-2">
                  <sup class="versenum">2 </sup>
                  So many are saying,
               </span>
               <br />
               <span class="indent-1">
                  <span class="indent-1-breaks">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                  <span class="text Ps-3-2">
                     “God will never rescue him!” 
                     <span class="selah">
                        Interlude
                        <sup data-fn='#fen-NLT-13936a' class='footnote' data-link='[&lt;a href=&quot;#fen-NLT-13936a&quot; title=&quot;See footnote a&quot;&gt;a&lt;/a&gt;]'>[<a href="#fen-NLT-13936a" title="See footnote a">a</a>]</sup>
                     </span>
                  </span>
               </span>
            </p>
         </div> 
         <div class="poetry top-1">
            <p class="line">
               <span id="en-NLT-13937" class="text Ps-3-3">
                  <sup class="versenum">3 </sup>
                  But you, O 
                  <span style="font-variant: small-caps" class="small-caps">Lord</span>
                  , are a shield around me;
               </span>
               <br />
               <span class="indent-1"><span class="indent-1-breaks">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                  <span class="text Ps-3-3">
                     you are my glory, the one who holds my head high.
                  </span>
               </span>
               <br />
               <span id="en-NLT-13938" class="text Ps-3-4">
                  <sup class="versenum">4 </sup>
                  I cried out to the 
                  <span style="font-variant: small-caps" class="small-caps">Lord</span>
                  ,
               </span>
               <br />
               <span class="indent-1"><span class="indent-1-breaks">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                  <span class="text Ps-3-4">
                     and he answered me from his holy mountain. 
                     <span class="selah">Interlude</span>
                  </span>
               </span>
            </p>
         </div> 
         <a class="full-chap-link" href="/passage/?search=Psalm%203&version=NLT" title="View Full Chapter">Read full chapter</a>
         <div class="footnotes">
            <h4>Footnotes</h4>
            <ol>
               <li id="fen-NLT-13936a"><a href="#en-NLT-13936" title="Go to Psalm 3:2">3:2</a> <span class='footnote-text'>Hebrew <i>Selah.</i> The meaning of this word is uncertain, though it is probably a musical or literary term. It is rendered <i>Interlude</i> throughout the Psalms.</span></li>
            </ol>
         </div> <!--end of footnotes-->
      </div>
   </div>
</div>
```